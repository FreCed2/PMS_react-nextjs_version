(()=>{var e={};e.id=5,e.ids=[5],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},3232:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(260),n=r(8203),o=r(5155),a=r.n(o),i=r(7292),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["alltasks",{children:["[taskId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3912)),"/Users/fredrik_cederborg/CodingProjects/PMS_react-next_version/frontend/src/app/alltasks/[taskId]/page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,2804)),"/Users/fredrik_cederborg/CodingProjects/PMS_react-next_version/frontend/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/fredrik_cederborg/CodingProjects/PMS_react-next_version/frontend/src/app/alltasks/[taskId]/page.js"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/alltasks/[taskId]/page",pathname:"/alltasks/[taskId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},628:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3219,23)),Promise.resolve().then(r.t.bind(r,4863,23)),Promise.resolve().then(r.t.bind(r,5155,23)),Promise.resolve().then(r.t.bind(r,802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,8530,23)),Promise.resolve().then(r.t.bind(r,8921,23))},8244:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6959,23)),Promise.resolve().then(r.t.bind(r,3875,23)),Promise.resolve().then(r.t.bind(r,8903,23)),Promise.resolve().then(r.t.bind(r,7174,23)),Promise.resolve().then(r.t.bind(r,4178,23)),Promise.resolve().then(r.t.bind(r,7190,23)),Promise.resolve().then(r.t.bind(r,1365,23))},3818:(e,t,r)=>{Promise.resolve().then(r.bind(r,2239))},2274:(e,t,r)=>{Promise.resolve().then(r.bind(r,5363))},2272:(e,t,r)=>{Promise.resolve().then(r.bind(r,3912))},416:(e,t,r)=>{Promise.resolve().then(r.bind(r,9028))},9334:(e,t,r)=>{"use strict";var s=r(8686);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},8121:(e,t,r)=>{"use strict";r.d(t,{P:()=>o});var s=r(8009),n="undefined"!=typeof window?s.useLayoutEffect:s.useEffect;function o(e,t){var r,o,a,i,l,c,d,u=void 0===t?{}:t,p=u.decayRate,m=void 0===p?.95:p,h=u.safeDisplacement,f=void 0===h?10:h,b=u.applyRubberBandEffect,v=void 0!==b&&b,x=u.activeMouseButton,g=void 0===x?"Left":x,j=u.isMounted,w=void 0===j||j,y=(0,s.useRef)({isMouseDown:!1,isDraggingX:!1,isDraggingY:!1,initialMouseX:0,initialMouseY:0,lastMouseX:0,lastMouseY:0,scrollSpeedX:0,scrollSpeedY:0,lastScrollX:0,lastScrollY:0}),k=!1,P=!1,N=0,M=0,_=1/60*1e3;n(function(){w&&(k="scroll"===window.getComputedStyle(e.current).overflowX,P="scroll"===window.getComputedStyle(e.current).overflowY,N=e.current.scrollWidth-e.current.clientWidth,M=e.current.scrollHeight-e.current.clientHeight,r=window.getComputedStyle(e.current).cursor,o=[],a=[],i=[],e.current.childNodes.forEach(function(e){o.push(window.getComputedStyle(e).cursor),a.push("none"===window.getComputedStyle(e).transform?"":window.getComputedStyle(e).transform),i.push("none"===window.getComputedStyle(e).transition?"":window.getComputedStyle(e).transition)}))},[w]);var S=function(){var t=y.current.scrollSpeedX*_,r=y.current.scrollSpeedY*_,s=e.current.scrollLeft+t,n=e.current.scrollTop+r;e.current.scrollLeft=s,e.current.scrollTop=n,y.current.lastScrollX=s,y.current.lastScrollY=n},C=function(t){var r=t.clientX-y.current.initialMouseX,s=t.clientY-y.current.initialMouseY,n=e.current,o=n.clientWidth,a=n.clientHeight,i=0,l=0;k&&P?(i=.3*o*Math.sign(r)*Math.log10(1+.5*Math.abs(r)/o),l=.3*a*Math.sign(s)*Math.log10(1+.5*Math.abs(s)/a)):k?i=.3*o*Math.sign(r)*Math.log10(1+.5*Math.abs(r)/o):P&&(l=.3*a*Math.sign(s)*Math.log10(1+.5*Math.abs(s)/a)),e.current.childNodes.forEach(function(e){e.style.transform="translate3d("+i+"px, "+l+"px, 0px)",e.style.transition="transform 0ms"})},E=function(){e.current.childNodes.forEach(function(e,t){e.style.transform=a[t],e.style.transition=i[t]})},X=function(){c=setInterval(function(){var t=y.current.scrollSpeedX*m;y.current.scrollSpeedX=t;var r=e.current.scrollLeft<=0,s=e.current.scrollLeft>=N;S(),(.05>Math.abs(t)||y.current.isMouseDown||r||s)&&(y.current.scrollSpeedX=0,clearInterval(c))},_),d=setInterval(function(){var t=y.current.scrollSpeedY*m;y.current.scrollSpeedY=t;var r=e.current.scrollTop<=0,s=e.current.scrollTop>=M;S(),(.05>Math.abs(t)||y.current.isMouseDown||r||s)&&(y.current.scrollSpeedY=0,clearInterval(d))},_),y.current.isDraggingX=!1,y.current.isDraggingY=!1,v&&(e.current.childNodes.forEach(function(e){e.style.transform="translate3d(0px, 0px, 0px)",e.style.transition="transform 250ms"}),l=setTimeout(E,250))},Y=function(e){e.preventDefault(),e.stopImmediatePropagation()},L=function(t){var s=y.current.isDraggingX||y.current.isDraggingY,n=y.current.initialMouseX-t.clientX,a=y.current.initialMouseY-t.clientY,i=Math.abs(n)>f||Math.abs(a)>f,l=s&&i;l?e.current.childNodes.forEach(function(e){e.addEventListener("click",Y)}):e.current.childNodes.forEach(function(e){e.removeEventListener("click",Y)}),y.current.isMouseDown=!1,y.current.lastMouseX=0,y.current.lastMouseY=0,e.current.style.cursor=r,e.current.childNodes.forEach(function(e,t){e.style.cursor=o[t]}),l&&X()},I=function(t){if(y.current.isMouseDown){t.preventDefault();var r=y.current.lastMouseX-t.clientX;y.current.lastMouseX=t.clientX,y.current.scrollSpeedX=r/_,y.current.isDraggingX=!0;var s=y.current.lastMouseY-t.clientY;y.current.lastMouseY=t.clientY,y.current.scrollSpeedY=s/_,y.current.isDraggingY=!0,e.current.style.cursor="grabbing",e.current.childNodes.forEach(function(e){e.style.cursor="grabbing"});var n=e.current.scrollLeft<=0&&k,o=e.current.scrollLeft>=N&&k,a=e.current.scrollTop<=0&&P,i=e.current.scrollTop>=M&&P;(n||o||a||i)&&v&&C(t),S()}},T=function(){N=e.current.scrollWidth-e.current.clientWidth,M=e.current.scrollHeight-e.current.clientHeight};return(0,s.useEffect)(function(){return w&&(window.addEventListener("mouseup",L),window.addEventListener("mousemove",I),window.addEventListener("resize",T)),function(){window.removeEventListener("mouseup",L),window.removeEventListener("mousemove",I),window.removeEventListener("resize",T),clearInterval(c),clearInterval(d),clearTimeout(l)}},[w]),{events:{onMouseDown:function(e){var t;t=e.buttons,("Left"===g&&1===t||"Middle"===g&&4===t||"Right"===g&&2===t)&&(y.current.isMouseDown=!0,y.current.lastMouseX=e.clientX,y.current.lastMouseY=e.clientY,y.current.initialMouseX=e.clientX,y.current.initialMouseY=e.clientY)}}}}},9028:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(5512),n=r(8009),o=r(9334),a=r(3359);function i(){let e=(0,o.useParams)(),t=(0,o.useRouter)();(0,o.usePathname)();let r=e.taskId,[i,l]=(0,n.useState)(null),[c,d]=(0,n.useState)([]),[u,p]=(0,n.useState)([]),[m,h]=(0,n.useState)(!1),[f,b]=(0,n.useState)("modal"),v=e=>{let{name:t,value:r}=e.target;l(e=>({...e,[t]:r}))},x=(0,n.useRef)(null),g=async e=>{let t=e.target.value;l({...i,assigned_to:t});try{let e=await fetch(`http://127.0.0.1:5000/api/projects/${i.project_id}/contributors/manage`);(await e.json()).some(e=>e.id===parseInt(t))||await fetch(`http://127.0.0.1:5000/api/projects/${i.project_id}/contributors/manage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contributor_id:t})});let r=await fetch(`http://127.0.0.1:5000/api/projects/${i.project_id}/contributors/manage`),s=await r.json();p(s)}catch(e){console.error("Error adding contributor to project:",e)}},j=async()=>{h(!0),(await fetch(`http://127.0.0.1:5000/api/tasks/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok?alert("Task updated successfully!"):alert("Error updating task."),h(!1)},w=()=>{t.push("/alltasks",{scroll:!1})};return i?(0,s.jsx)("div",{className:"modal-background",children:(0,s.jsx)("div",{ref:x,className:`fixed inset-0 flex items-center justify-center overflow-hidden ${"modal"===f?"flex items-center justify-center":""} ${"side"===f?"absolute top-0 left-0 w-[800px] h-full":""}`,children:(0,s.jsxs)("div",{className:`task-modal p-6 rounded-lg shadow-lg relative z-50 transition-all duration-300 ease-in-out ${"modal"===f?"w-[70vw] max-w-4xl h-aut":""} ${"side"===f?"h-full w-[400px] shadow-lg":""} ${"full"===f?"fixed inset-0 w-full h-full p-8 max-w-none max-h-none":""}`,children:[(0,s.jsxs)("div",{className:"absolute top-4 left-6 flex space-x-3",children:[(0,s.jsx)("button",{"data-tooltip-id":"global-tooltip","data-tooltip-content":"Open in Modal View",onClick:()=>b("modal"),className:"modal-view-btn p-1 rounded",children:(0,s.jsx)("i",{className:"bi bi-aspect-ratio"})}),(0,s.jsx)("button",{"data-tooltip-id":"global-tooltip","data-tooltip-content":"Open in Side View",onClick:()=>b("side"),className:"modal-view-btn p-1 rounded",children:(0,s.jsx)("i",{className:"bi bi-layout-sidebar-inset-reverse"})}),(0,s.jsx)("button",{"data-tooltip-id":"global-tooltip","data-tooltip-content":"Open in Page View",onClick:()=>b("full"),className:"modal-view-btn p-1 rounded",children:(0,s.jsx)("i",{className:"bi bi-arrows-angle-expand"})})]}),(0,s.jsx)("div",{className:"absolute top-4 right-6 flex space-x-3",children:(0,s.jsx)("button",{onClick:w,className:"text-gray-200 hover:text-white",children:(0,s.jsx)(a.A,{className:"w-6 h-6"})})}),(0,s.jsx)("div",{className:"flex justify-between items-center border-b pb-4 mt-10 drag-handle cursor-move",onMouseDown:null,children:(0,s.jsx)("h2",{className:"text-xl font-bold",children:i.name})}),(0,s.jsxs)("form",{className:"mt-4 grid grid-cols-12 gap-4",children:[(0,s.jsxs)("div",{className:"col-span-9",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"label block text-sm font-medium text-gray-700",children:"Task Title"}),(0,s.jsx)("input",{type:"text",name:"name",className:"text-field mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:i.name,onChange:v})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"label block text-sm font-medium text-gray-700",children:"Description"}),(0,s.jsx)("textarea",{name:"description",className:"textfield mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",rows:"10",value:i.description,onChange:v})]})]}),(0,s.jsxs)("div",{className:"col-span-3 space-y-4 pl-6",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"label block text-sm font-medium text-gray-700",children:"Project"}),(0,s.jsx)("select",{name:"project_id",className:"select-project mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:i.project_id,onChange:v,children:c.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"label block text-sm font-medium",children:"Task Type"}),(0,s.jsxs)("select",{name:"task_type",className:`select-task-type mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 transition-all duration-300 ${"Epic"===i.task_type?"task-epic":"User Story"===i.task_type?"task-userstory":"Subtask"===i.task_type?"task-subtask":""}`,value:i.task_type,onChange:v,children:[(0,s.jsx)("option",{value:"Epic",children:"Epic"}),(0,s.jsx)("option",{value:"User Story",children:"User Story"}),(0,s.jsx)("option",{value:"Subtask",children:"Subtask"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"select-priority label block text-sm font-medium",children:"Priority"}),(0,s.jsxs)("select",{name:"priority",className:"select-priority mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 transition-all duration-300",value:i.priority,onChange:v,children:[(0,s.jsx)("option",{value:"Low",children:"Low"}),(0,s.jsx)("option",{value:"Medium",children:"Medium"}),(0,s.jsx)("option",{value:"High",children:"High"}),(0,s.jsx)("option",{value:"Critical",children:"Critical"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"label block text-sm font-medium",children:"Task Status"}),(0,s.jsxs)("select",{name:"status",className:`select-status mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 transition-all duration-300 ${"Not Started"===i.status?"status-not-started":"In Progress"===i.status?"status-in-progress":"Blocked"===i.status?"status-blocked":"Completed"===i.status?"status-completed":""}`,value:i.status,onChange:v,children:[(0,s.jsx)("option",{value:"Not Started",children:"Not Started"}),(0,s.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,s.jsx)("option",{value:"Blocked",children:"Blocked"}),(0,s.jsx)("option",{value:"Completed",children:"Completed"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"label block text-sm font-medium",children:"Estimate (Story Points)"}),(0,s.jsx)("input",{type:"number",name:"story_points",className:"input-story-points mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:i.story_points||"",onChange:v})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"label block text-sm font-medium text-gray-100",children:"Assigned Contributor"}),(0,s.jsxs)("select",{name:"assigned_to",className:"select-contributor mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:i.assigned_to||"",onChange:g,children:[(0,s.jsx)("option",{value:"",children:"Unassigned"}),u.map(e=>(0,s.jsxs)("option",{value:e.id,className:e.is_in_project?"in-project":"add",children:[e.name," ",e.is_in_project?"✅ (In Project)":"➕ (Add to Project)"]},e.id))]})]})]})]}),(0,s.jsxs)("div",{className:"mt-6 flex justify-end space-x-4",children:[(0,s.jsx)("button",{onClick:w,className:"px-4 py-2 bg-gray-400 text-white rounded-md",children:"Cancel"}),(0,s.jsx)("button",{onClick:j,className:"px-4 py-2 bg-blue-500 text-white rounded-md",disabled:m,children:m?"Saving...":"Save Task"})]})]})})}):(0,s.jsx)("p",{children:"Loading..."})}r(8121),r(6575)},5363:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(5512),n=r(5535);function o(){return(0,s.jsx)(n.m_,{id:"global-tooltip"})}r(8511)},3912:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/fredrik_cederborg/CodingProjects/PMS_react-next_version/frontend/src/app/alltasks/[taskId]/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/fredrik_cederborg/CodingProjects/PMS_react-next_version/frontend/src/app/alltasks/[taskId]/page.js","default")},2804:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>c});var s=r(2740),n=r(6922),o=r.n(n),a=r(1980),i=r.n(a);r(1135),r(3431),r(3062);var l=r(2239);let c={title:"Create Next App",description:"Generated by create next app"};function d({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsxs)("body",{className:`${o().variable} ${i().variable} antialiased`,children:[(0,s.jsx)(l.default,{})," ",e]})})}},2239:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/fredrik_cederborg/CodingProjects/PMS_react-next_version/frontend/src/components/TooltipProvider.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/fredrik_cederborg/CodingProjects/PMS_react-next_version/frontend/src/components/TooltipProvider.js","default")},440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(8077);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},1135:()=>{},3431:()=>{},6575:()=>{},3359:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(8009);let n=s.forwardRef(function({title:e,titleId:t,...r},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,878,77],()=>r(3232));module.exports=s})();